


 # Marlin - Dev Notes 


## Purpose
Some Dev notes on how to build custom firmware using V1E flavored Marlin for my LowRider3.

## Local Dev setup

- See https://docs.v1engineering.com/electronics/marlin-firmware/
- Download zip containing binary and sources for LR3 V1E flavored Marlin [V1CNC_SkrPro_DualLR_2209](https://github.com/V1EngineeringInc/MarlinBuilder/releases/download/515/V1CNC_SkrPro_DualLR_2209-2.1.1.zip) currently 2.1.1 / 515.
- Open and build in VS Code, read V1E's [Platform.IO](https://docs.v1engineering.com/learn/platformio/) docs.

## Changes

### Faster Rapids and Homing

2023-1-9 This [commit](https://github.com/aaronse/marlin_2.1.1_515/commit/aaab29450ecffbc9c4e6a718244765bc13a5db48) modified snapshot of marlin_2.1.1_515 generated by V1E.  Changes:
- Increase speed for non cutting Rapid moves.
- Increase speed for Homing XY, but slowed homing speed after initial bump.  Reason is was noticing inconsistent homing position.  
- No changes to Z for now.  Still learning/testing.

https://github.com/aaronse/marlin_2.1.1_515
![image](https://user-images.githubusercontent.com/16479976/211295122-34ccc161-e602-4d5c-8d88-b9590d73310e.png)



## Resources
- L3R flavored marling is built by scripts/config in https://github.com/V1EngineeringInc/MarlinBuilder/blob/main/src/configs/V1CNC_SkrPro_DualLR_2209

- SKR Pro 1.2 Firmware settings https://forum.v1engineering.com/t/skr-pro-v1-2-firmware/29135
- Gcode docs @ https://marlinfw.org/meta/gcode/

## Code - Some notes..
- Configuration.h / Configuration_adv.h
  - Modified by [https://github.com/V1E.../src/configs/V1CNC_SkrPro_DualLR_2209](https://github.com/V1EngineeringInc/MarlinBuilder/blob/97d071d945ef9a451cbfd8467dcc0422f0fe0abb/src/configs/V1CNC_SkrPro_DualLR_2209)
    - Modified by [https://github.com/V1E.../MarlinBuilder/.../src/configs/common/cnc-config](https://github.com/V1EngineeringInc/MarlinBuilder/blob/97d071d945ef9a451cbfd8467dcc0422f0fe0abb/src/configs/common/cnc-config)
    - Modified by [https://github.com/V1E.../MarlinBuilder/.../src/configs/.../dual-drivers-on-xy](https://github.com/V1EngineeringInc/MarlinBuilder/blob/97d071d945ef9a451cbfd8467dcc0422f0fe0abb/src/configs/accessories/dual-drivers-on-xy)

  - https://forum.v1engineering.com/t/g00-g01-speed-acceleration-not-jerk-and-marlin-grbl/4905/12?u=aaronse
    - G0_FEEDRATE mm/m - feerate used for G0, rather than  previous gcode instructions feedrate.
      - VARIABLE_G0_FEEDRATE use explicitly specified feedrate for G0 commands.
      - Still subject to the max speeds and accelerations.
    - DEFAULT_MAX_FEEDRATE
    - MANUAL_FEEDRATE


## Acknowledgements
- V1E flavors of Marlin are being created/maintained by Ryan, Jeff and others, see [change history](https://github.com/V1EngineeringInc/V1EngineeringInc-Docs/commits/master/docs/electronics/marlin-firmware.md) for https://docs.v1engineering.com/electronics/marlin-firmware/ 
